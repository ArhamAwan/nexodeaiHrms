
> web@0.1.0 dev /Users/arham/Documents/HRMS/web
> next dev --turbopack

   ▲ Next.js 15.5.2 (Turbopack)
   - Local:        http://localhost:3000
   - Network:      http://192.168.100.211:3000
   - Environments: .env

 ✓ Starting...
 ✓ Compiled middleware in 191ms
 ✓ Ready in 975ms
 ○ Compiling /api/auth/register ...
 ✓ Compiled /api/auth/register in 841ms
 POST /api/auth/register 201 in 3936ms
 ✓ Compiled /api/auth/login in 83ms
 POST /api/auth/login 200 in 1852ms
 ○ Compiling /dashboard ...
 POST /api/auth/login 200 in 2053ms
 ✓ Compiled /dashboard in 1989ms
 GET /dashboard 200 in 2070ms
 ✓ Compiled /api/notifications in 256ms
 GET /api/holidays 200 in 1790ms
 GET /api/time 200 in 3989ms
 GET /api/dashboard/stats 200 in 4520ms
 GET /api/dashboard/stats 200 in 2749ms
 GET /api/notifications 200 in 4561ms
 GET /api/leaves 200 in 4768ms
 GET /api/analytics 200 in 5252ms
 GET /api/holidays 200 in 734ms
 GET /api/time 200 in 1461ms
 GET /api/leaves 200 in 1452ms
 GET /api/notifications 200 in 1473ms
 GET /api/analytics 200 in 1968ms
 GET /api/notifications 200 in 1490ms
 GET /api/notifications 200 in 1971ms
 GET /api/notifications 200 in 1488ms
 GET /api/notifications 200 in 1695ms
 GET /api/notifications 200 in 2211ms
 GET /api/notifications 200 in 2102ms
 GET /api/notifications 200 in 1944ms
 GET /api/notifications 200 in 2050ms
 GET /api/notifications 200 in 1997ms
 GET /api/notifications 200 in 2293ms
 GET /api/notifications 200 in 2126ms
 GET /api/notifications 200 in 3754ms
 GET /api/notifications 200 in 1695ms
 GET /api/notifications 200 in 1713ms
 GET /api/notifications 200 in 1727ms
 GET /api/notifications 200 in 1810ms
 GET /api/notifications 200 in 1718ms
 GET /api/notifications 200 in 3195ms
 GET /api/notifications 200 in 1688ms
 GET /api/notifications 200 in 1703ms
 GET /api/notifications 200 in 2240ms
 GET /api/notifications 200 in 1672ms
 GET /api/notifications 200 in 1678ms
 GET /api/notifications 200 in 3000ms
 GET /api/notifications 200 in 1789ms
 GET /api/notifications 200 in 1694ms
 GET /api/notifications 200 in 1493ms
 GET /api/notifications 200 in 1754ms
 GET /api/notifications 200 in 1773ms
 GET /api/notifications 200 in 1722ms
 GET /api/notifications 200 in 1780ms
 GET /api/notifications 200 in 1716ms
 GET /api/notifications 200 in 1677ms
 GET /api/notifications 200 in 2167ms
 GET /api/notifications 200 in 4087ms
 GET /api/notifications 200 in 1683ms
 GET /api/notifications 200 in 1738ms
 GET /api/notifications 200 in 2337ms
 GET /api/notifications 200 in 1687ms
 GET /api/notifications 200 in 1713ms
 GET /api/notifications 200 in 3446ms
 GET /api/notifications 200 in 2005ms
 POST /api/auth/register 201 in 2916ms
 ○ Compiling / ...
 ✓ Compiled / in 536ms
 GET / 307 in 783ms
 ✓ Compiled /login in 320ms
 GET /login 200 in 390ms
 ✓ Compiled /api/auth/me in 88ms
 GET /api/auth/me 200 in 1845ms
 POST /api/auth/login 200 in 1833ms
 GET /dashboard 200 in 35ms
 GET /api/holidays 200 in 1591ms
 GET /api/notifications 200 in 2305ms
 GET /api/leaves 200 in 3052ms
 GET /api/time 200 in 3337ms
 GET /api/dashboard/stats 200 in 3357ms
 GET /api/dashboard/stats 200 in 1981ms
 GET /api/analytics 200 in 3867ms
 GET /api/holidays 200 in 760ms
 GET /api/time 200 in 2201ms
 GET /api/leaves 200 in 1459ms
 GET /api/notifications 200 in 1486ms
 GET /api/analytics 200 in 2847ms
 GET /api/notifications 200 in 1478ms
 GET /api/notifications 200 in 1691ms
 GET /api/notifications 200 in 1499ms
 GET /api/notifications 200 in 1822ms
 GET /api/notifications 200 in 1473ms
 GET /api/notifications 200 in 1693ms
 GET /api/notifications 200 in 1485ms
 GET /api/notifications 200 in 1709ms
 GET /api/notifications 200 in 1699ms
   Reload env: .env
   Reload env: .env
 POST /api/auth/register 201 in 2749ms
   Reload env: .env
 ⚠ Found a change in next.config.ts. Restarting the server to apply the changes...
   ▲ Next.js 15.5.2 (Turbopack)
   - Local:        http://localhost:3000
   - Network:      http://192.168.100.211:3000
   - Environments: .env

 ✓ Starting...
 ✓ Compiled middleware in 220ms
 ✓ Ready in 1242ms
 ⚠ Webpack is configured while Turbopack is not, which may cause problems.
 ⚠ See instructions if you need to configure Turbopack:
  https://nextjs.org/docs/app/api-reference/next-config-js/turbopack

 ⚠ Found a change in next.config.ts. Restarting the server to apply the changes...
   ▲ Next.js 15.5.2 (Turbopack)
   - Local:        http://localhost:3000
   - Network:      http://192.168.100.211:3000
   - Environments: .env

 ✓ Starting...
 ✓ Compiled middleware in 324ms
 ✓ Ready in 1343ms
 ⚠ Webpack is configured while Turbopack is not, which may cause problems.
 ⚠ See instructions if you need to configure Turbopack:
  https://nextjs.org/docs/app/api-reference/next-config-js/turbopack

 ✓ Compiled middleware in 6ms
 ✓ Compiled middleware in 2ms
 ○ Compiling / ...
 ✓ Compiled / in 2.3s
 GET / 307 in 2630ms
 ✓ Compiled /login in 308ms
 GET /login 200 in 379ms
 ✓ Compiled /api/auth/me in 270ms
 ✓ Compiled /api/auth/login in 111ms
Error [PrismaClientInitializationError]: 
Invalid `prisma.user.findUnique()` invocation in
/Users/arham/Documents/HRMS/web/.next/server/chunks/[root-of-the-server]__57be26c1._.js:180:36

  177 if (!token) return null;
  178 const payload = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$auth$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["verifyRefreshToken"])(token);
  179 if (!payload) return null;
→ 180 const user = await prisma.user.findUnique(
Error querying the database: FATAL: Tenant or user not found
    at <unknown> (src/lib/api-auth.ts:13:33)
    at async getCurrentUserWithEmployee (src/lib/api-auth.ts:13:15)
    at async GET (src/app/api/auth/me/route.ts:5:15)
  11 | 	const payload = verifyRefreshToken(token);
  12 | 	if (!payload) return null;
> 13 | 	const user = await prisma.user.findUnique({ where: { id: payload.uid }, include: { employee: true } });
     | 	                               ^
  14 | 	return user;
  15 | }
  16 | {
  clientVersion: '6.15.0',
  errorCode: undefined,
  retryable: undefined
}
 GET /api/auth/me 500 in 5496ms
/api/auth/login error Error [PrismaClientInitializationError]: 
Invalid `prisma.user.findUnique()` invocation in
/Users/arham/Documents/HRMS/web/.next/server/chunks/[root-of-the-server]__1f3ec110._.js:196:40

  193     });
  194 }
  195 const { email, password } = parsed.data;
→ 196 const user = await prisma.user.findUnique(
Error querying the database: FATAL: Tenant or user not found
    at <unknown> (src/app/api/auth/login/route.ts:17:34)
    at async POST (src/app/api/auth/login/route.ts:17:16)
  15 | 		}
  16 | 		const { email, password } = parsed.data;
> 17 | 		const user = await prisma.user.findUnique({ where: { email }, include: { employee: true } });
     | 		                               ^
  18 | 		if (!user || !verifyPassword(password, user.password)) {
  19 | 			return NextResponse.json({ error: "Invalid credentials" }, { status: 401 });
  20 | 		} {
  clientVersion: '6.15.0',
  errorCode: undefined,
  retryable: undefined
}
 POST /api/auth/login 500 in 3528ms
 ✓ Compiled in 65ms
 ✓ Compiled in 88ms
/api/auth/login error Error [PrismaClientInitializationError]: 
Invalid `prisma.user.findUnique()` invocation in
/Users/arham/Documents/HRMS/web/.next/server/chunks/[root-of-the-server]__1f3ec110._.js:196:40

  193     });
  194 }
  195 const { email, password } = parsed.data;
→ 196 const user = await prisma.user.findUnique(
Error querying the database: FATAL: Tenant or user not found
    at <unknown> (src/app/api/auth/login/route.ts:17:34)
    at async POST (src/app/api/auth/login/route.ts:17:16)
  15 | 		}
  16 | 		const { email, password } = parsed.data;
> 17 | 		const user = await prisma.user.findUnique({ where: { email }, include: { employee: true } });
     | 		                               ^
  18 | 		if (!user || !verifyPassword(password, user.password)) {
  19 | 			return NextResponse.json({ error: "Invalid credentials" }, { status: 401 });
  20 | 		} {
  clientVersion: '6.15.0',
  errorCode: undefined,
  retryable: undefined
}
 POST /api/auth/login 500 in 3586ms
 ✓ Compiled in 114ms
 ✓ Compiled in 136ms
 ✓ Compiled /login in 35ms
 GET /login 200 in 176ms
 GET /login 200 in 376ms
 GET /login 200 in 232ms
 ✓ Compiled /favicon.ico in 99ms
 GET /favicon.ico?favicon.0b3bf435.ico 200 in 344ms
Error [PrismaClientInitializationError]: 
Invalid `prisma.user.findUnique()` invocation in
/Users/arham/Documents/HRMS/web/.next/server/chunks/[root-of-the-server]__57be26c1._.js:180:36

  177 if (!token) return null;
  178 const payload = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$auth$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["verifyRefreshToken"])(token);
  179 if (!payload) return null;
→ 180 const user = await prisma.user.findUnique(
Error querying the database: FATAL: Tenant or user not found
    at <unknown> (src/lib/api-auth.ts:13:33)
    at async getCurrentUserWithEmployee (src/lib/api-auth.ts:13:15)
    at async GET (src/app/api/auth/me/route.ts:5:15)
  11 | 	const payload = verifyRefreshToken(token);
  12 | 	if (!payload) return null;
> 13 | 	const user = await prisma.user.findUnique({ where: { id: payload.uid }, include: { employee: true } });
     | 	                               ^
  14 | 	return user;
  15 | }
  16 | {
  clientVersion: '6.15.0',
  errorCode: undefined,
  retryable: undefined
}
 GET /api/auth/me 500 in 3445ms
/api/auth/login error Error [PrismaClientInitializationError]: 
Invalid `prisma.user.findUnique()` invocation in
/Users/arham/Documents/HRMS/web/.next/server/chunks/[root-of-the-server]__1f3ec110._.js:196:40

  193     });
  194 }
  195 const { email, password } = parsed.data;
→ 196 const user = await prisma.user.findUnique(
Error querying the database: FATAL: Tenant or user not found
    at <unknown> (src/app/api/auth/login/route.ts:17:34)
    at async POST (src/app/api/auth/login/route.ts:17:16)
  15 | 		}
  16 | 		const { email, password } = parsed.data;
> 17 | 		const user = await prisma.user.findUnique({ where: { email }, include: { employee: true } });
     | 		                               ^
  18 | 		if (!user || !verifyPassword(password, user.password)) {
  19 | 			return NextResponse.json({ error: "Invalid credentials" }, { status: 401 });
  20 | 		} {
  clientVersion: '6.15.0',
  errorCode: undefined,
  retryable: undefined
}
 POST /api/auth/login 500 in 3379ms
 GET /api/auth/me 200 in 249ms
/api/auth/login error Error [PrismaClientInitializationError]: 
Invalid `prisma.user.findUnique()` invocation in
/Users/arham/Documents/HRMS/web/.next/server/chunks/[root-of-the-server]__1f3ec110._.js:196:40

  193     });
  194 }
  195 const { email, password } = parsed.data;
→ 196 const user = await prisma.user.findUnique(
Error querying the database: FATAL: Tenant or user not found
    at <unknown> (src/app/api/auth/login/route.ts:17:34)
    at async POST (src/app/api/auth/login/route.ts:17:16)
  15 | 		}
  16 | 		const { email, password } = parsed.data;
> 17 | 		const user = await prisma.user.findUnique({ where: { email }, include: { employee: true } });
     | 		                               ^
  18 | 		if (!user || !verifyPassword(password, user.password)) {
  19 | 			return NextResponse.json({ error: "Invalid credentials" }, { status: 401 });
  20 | 		} {
  clientVersion: '6.15.0',
  errorCode: undefined,
  retryable: undefined
}
 POST /api/auth/login 500 in 3704ms
 GET /api/auth/me 200 in 242ms
 ✓ Compiled /api/auth/profile in 330ms
 PATCH /api/auth/profile 401 in 580ms
 ✓ Compiled middleware in 1ms
 GET /login 200 in 183ms
/api/auth/login error Error [PrismaClientInitializationError]: 
Invalid `prisma.user.findUnique()` invocation in
/Users/arham/Documents/HRMS/web/.next/server/chunks/[root-of-the-server]__1f3ec110._.js:196:40

  193     });
  194 }
  195 const { email, password } = parsed.data;
→ 196 const user = await prisma.user.findUnique(
Error querying the database: FATAL: Tenant or user not found
    at <unknown> (src/app/api/auth/login/route.ts:17:34)
    at async POST (src/app/api/auth/login/route.ts:17:16)
  15 | 		}
  16 | 		const { email, password } = parsed.data;
> 17 | 		const user = await prisma.user.findUnique({ where: { email }, include: { employee: true } });
     | 		                               ^
  18 | 		if (!user || !verifyPassword(password, user.password)) {
  19 | 			return NextResponse.json({ error: "Invalid credentials" }, { status: 401 });
  20 | 		} {
  clientVersion: '6.15.0',
  errorCode: undefined,
  retryable: undefined
}
 POST /api/auth/login 500 in 3748ms
 ✓ Compiled /test-profile in 236ms
 HEAD /test-profile 200 in 406ms
 OPTIONS /api/auth/profile 204 in 335ms
 ✓ Compiled /api/auth/password in 164ms
 OPTIONS /api/auth/password 204 in 406ms
 ✓ Compiled middleware in 31ms
 GET /login 200 in 121ms
 GET /login 200 in 72ms
/api/auth/login error Error [PrismaClientInitializationError]: 
Invalid `prisma.user.findUnique()` invocation in
/Users/arham/Documents/HRMS/web/.next/server/chunks/[root-of-the-server]__1f3ec110._.js:196:40

  193     });
  194 }
  195 const { email, password } = parsed.data;
→ 196 const user = await prisma.user.findUnique(
Error querying the database: FATAL: Tenant or user not found
    at <unknown> (src/app/api/auth/login/route.ts:17:34)
    at async POST (src/app/api/auth/login/route.ts:17:16)
  15 | 		}
  16 | 		const { email, password } = parsed.data;
> 17 | 		const user = await prisma.user.findUnique({ where: { email }, include: { employee: true } });
     | 		                               ^
  18 | 		if (!user || !verifyPassword(password, user.password)) {
  19 | 			return NextResponse.json({ error: "Invalid credentials" }, { status: 401 });
  20 | 		} {
  clientVersion: '6.15.0',
  errorCode: undefined,
  retryable: undefined
}
 POST /api/auth/login 500 in 4070ms
